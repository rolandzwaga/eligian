// Interactive presentation with actions using new syntax

// Reusable endable animations
endable action showCard [
  selectElement(".card")
  addClass("visible")
  animate({ opacity: 1 }, 300)
] [
  animate({ opacity: 0 }, 300)
  removeClass("visible")
]

endable action showTitle [
  selectElement("#main-title")
  addClass("visible")
  selectElement("#subtitle")
  addClass("visible")
] [
  removeClass("visible")
]

endable action showAgenda [
  selectElement("#card1")
  addClass("visible")
  wait(200)
  selectElement("#card2")
  addClass("visible")
  wait(200)
  selectElement("#card3")
  addClass("visible")
] [
  selectElement("#card1")
  removeClass("visible")
  selectElement("#card2")
  removeClass("visible")
  selectElement("#card3")
  removeClass("visible")
]

timeline "presentation" in ".presentation-container" using raf {
  at 0s..3s {
    showTitle()
  }

  at 3s..8s {
    showAgenda()
  }

  at 8s..30s [
    selectElement("#content-area")
    addClass("visible")
  ] [
    removeClass("visible")
  ]

  at 15s..15.5s [
    selectElement("#important-point")
    addClass("pulse")
  ] [
    removeClass("pulse")
  ]

  at 30s..35s [
    selectElement("#thank-you")
    addClass("visible")
  ] [
    removeClass("visible")
  ]
}
